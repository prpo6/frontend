<div class="page">
  <div class="topbar">
    <h2>ğŸ—“ï¸ Urnik zaposlenih</h2>
    <div class="actions">
      <button (click)="navigateBack()">â¬… Domov</button>
      <button (click)="deleteAll()">ğŸ—‘ï¸ PobriÅ¡i urnik</button>
      <button (click)="goBackToOverview()">â¬… Nazaj na pregled</button>
    </div>
  </div>

  <div class="card">
    <label>
      Zaposleni:
      <select [(ngModel)]="selectedZaposleniId" (change)="onChangeZaposleni()">
        <option *ngFor="let z of zaposleni" [value]="z.id">
          {{ z.ime }} {{ z.priimek }} ({{ z.pozicija }})
        </option>
      </select>
    </label>

    <div *ngIf="loadingZaposleni || loadingUrnik" class="loading">Nalagam...</div>
  </div>

  <div class="card" *ngFor="let d of days">
    <div class="row">
      <div class="dayTitle">{{ d.label }}</div>

      <label class="toggle">
        <input type="checkbox" [(ngModel)]="enabled[d.key]" />
        Aktivno
      </label>
    </div>

    <div class="grid">
      <label>
        ZaÄetek
        <input type="time" [(ngModel)]="zacetek[d.key]" [disabled]="!enabled[d.key]" />
      </label>

      <label>
        Konec
        <input type="time" [(ngModel)]="konec[d.key]" [disabled]="!enabled[d.key]" />
      </label>
    </div>

    <div class="row">
      <button (click)="saveDay(d.key)">Shrani</button>
      <button (click)="deleteDay(d.key)">PobriÅ¡i dan</button>
    </div>
  </div>
</div>
