<div class="page">
  <div class="topbar">
    <h2>ğŸ—“ï¸ Urnik â€“ pregled</h2>
    <div class="actions">
      <button (click)="back()">â¬… Home</button>
      <button (click)="openEditor()">âš™ï¸ Uredi urnik</button>
      <button (click)="load()" [disabled]="loading">â†» OsveÅ¾i</button>
      <div>loading={{loading}} refresh={{refreshInProgress}}</div>
    </div>
  </div>

  <div class="card" *ngIf="loading">Nalagam...</div>

  <div class="grid" *ngIf="!loading">
    <div class="day card" *ngFor="let d of days">
      <div class="dayTitle">{{ d.label }}</div>

      <div class="empty" *ngIf="slotsByDay[d.key].length === 0">
        Ni vnosov.
      </div>

      <div class="slot" *ngFor="let s of slotsByDay[d.key]">
        <div class="line1">
          <b>{{ s.zacetek }}â€“{{ s.konec }}</b>
          <span class="badge">{{ s.pozicija }}</span>
        </div>
        <div class="line2">{{ s.ime }} {{ s.priimek }}</div>
      </div>
    </div>
  </div>
</div>
